<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>File IO - polars-book</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction/introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../getting_started.html"><strong aria-hidden="true">2.</strong> Getting started</a></li><li class="chapter-item expanded "><a href="../#.html"><strong aria-hidden="true">3.</strong> IO</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../io/files.html" class="active"><strong aria-hidden="true">3.1.</strong> File IO</a></li><li class="chapter-item "><a href="../io/aws.html"><strong aria-hidden="true">3.2.</strong> aws</a></li></ol></li><li class="chapter-item expanded "><a href="../lazy_polars/intro.html"><strong aria-hidden="true">4.</strong> Lazy Polars</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../lazy_polars/predicate_pushdown.html"><strong aria-hidden="true">4.1.</strong> Predicate pushdown</a></li><li class="chapter-item "><a href="../lazy_polars/projection_pushdown.html"><strong aria-hidden="true">4.2.</strong> Projection pushdown</a></li><li class="chapter-item "><a href="../lazy_polars/other_optimizations.html"><strong aria-hidden="true">4.3.</strong> Other optimizations</a></li></ol></li><li class="chapter-item expanded "><a href="../how_can_i/intro.html"><strong aria-hidden="true">5.</strong> How can I?</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../how_can_i/groupby.html"><strong aria-hidden="true">5.1.</strong> GroupBy</a></li><li class="chapter-item "><a href="../how_can_i/aggregate.html"><strong aria-hidden="true">5.2.</strong> Aggregate</a></li><li class="chapter-item "><a href="../how_can_i/conditionally_apply.html"><strong aria-hidden="true">5.3.</strong> Conditionally apply</a></li><li class="chapter-item "><a href="../how_can_i/parse_dates.html"><strong aria-hidden="true">5.4.</strong> Parse dates</a></li><li class="chapter-item "><a href="../how_can_i/use_custom_functions.html"><strong aria-hidden="true">5.5.</strong> Use custom functions</a></li><li class="chapter-item "><a href="../how_can_i/process_strings.html"><strong aria-hidden="true">5.6.</strong> Process strings</a></li><li class="chapter-item "><a href="../how_can_i/apply_window_functions.html"><strong aria-hidden="true">5.7.</strong> Apply window functions</a></li><li class="chapter-item "><a href="../how_can_i/split_apply_combine.html"><strong aria-hidden="true">5.8.</strong> Split/ apply / combine</a></li></ol></li><li class="chapter-item expanded "><a href="../numpy.html"><strong aria-hidden="true">6.</strong> Numpy interop</a></li><li class="chapter-item expanded "><a href="../reference.html"><strong aria-hidden="true">7.</strong> Reference guide</a></li><li class="chapter-item expanded "><a href="../performance/intro.html"><strong aria-hidden="true">8.</strong> Performance</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../performance/string_data.html"><strong aria-hidden="true">8.1.</strong> Performance and string data</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">polars-book</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="file-io"><a class="header" href="#file-io">File IO</a></h1>
<p>Polars support different file types and has its parsers are amongst the fastest there are. For instance,
it's faster to load a CSV via polars to pandas, than directly from pandas. 
Just do <code>pl.read_CSV(&quot;path.txt&quot;, rechunk=False).to_pandas()</code> and you're off.</p>
<h2 id="csv-files"><a class="header" href="#csv-files">CSV files</a></h2>
<p>So with that fun fact out of the way, loading a CSV file should be familiar:</p>
<h3 id="read-csv"><a class="header" href="#read-csv">Read CSV</a></h3>
<pre><code class="language-python">import polars as pl

df = pl.read_csv(&quot;path.csv&quot;)
</code></pre>
<p>CSV files come in many different flavors, so make sure to check the 
<a href="https://ritchie46.github.io/polars/python/polars/functions.html#polars.functions.read_CSV">read_CSV API</a></p>
<p>Writing to a CSV file can be done with <a href="https://ritchie46.github.io/polars/python/polars/frame.html#polars.frame.DataFrame.to_csv">to_csv</a></p>
<h3 id="write-csv"><a class="header" href="#write-csv">Write CSV</a></h3>
<pre><code class="language-python">import polars as pl
df = pl.DataFrame({
    &quot;foo&quot;: [1, 2, 3],
    &quot;bar&quot;: [None, &quot;egg&quot;, &quot;spam&quot;]
})

df.to_csv(&quot;path.csv&quot;)
</code></pre>
<h2 id="parquet-files"><a class="header" href="#parquet-files">Parquet files</a></h2>
<p>Loading and writing parquet files are also as fast as can be. Pandas uses pyarrow to load parquet files into arrow memory
and then has to copy that memory into pandas acceptable memory. In polars we don't have to pay that copy price, because
we read parquet directly into arrow memory and we keep it there.</p>
<h3 id="read-parquet"><a class="header" href="#read-parquet">Read Parquet</a></h3>
<pre><code class="language-python">import polars as pl

df = pl.read_parquet(&quot;path.csv&quot;)
</code></pre>
<h3 id="write-parquet"><a class="header" href="#write-parquet">Write Parquet</a></h3>
<pre><code class="language-python">import polars as pl
df = pl.DataFrame({
    &quot;foo&quot;: [1, 2, 3],
    &quot;bar&quot;: [None, &quot;egg&quot;, &quot;spam&quot;]
})

df.to_parquet(&quot;path.csv&quot;)
</code></pre>
<h2 id="scanning-files"><a class="header" href="#scanning-files">Scanning files</a></h2>
<p>You can also scan a csv, and parquet files. Scanning delays the actual parsing of the files and returns a lazy computation
holder, called a <code>LazyFrame</code>. If you want to know why you'd want this (and you do!) <a href="../lazy_polars/intro.html">read the lazy introduction</a></p>
<pre><code class="language-python">import polars as pl

# start a lazy query from a csv file.
lf = pl.scan_csv(&quot;path.csv&quot;)


# start a lazy query from a parquet file.
lf = pl.scan_parquet(&quot;path.parquet&quot;)
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../#.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../io/aws.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../#.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../io/aws.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
